---
layout: post
title:  函数式架构
categories: 敏捷
---

写了多年的代码，做了多个项目，经验积累了一些。回顾这些项目，凡是失败的，风险管理做的都比较差。这几年，开始有意识的对写过的代码进行风险管理，但一直没有归纳过。现在比较有空，整理一下思路。

软件开发之所以存在风险，是因为代码都是人写的。对软件进行风险管理，其实就是对人进行风险管理，因此，开始有了软件过程管理。不过，软件是知识密集型的产物，在开发过程中，会随时碰到各种各样的问题，需要各个领域的专家共同协作完成。简单粗暴的管理方式肯定是不合适的。因此，敏捷开发逐渐被大家所接受。

敏捷现在已经是一个很普及的概念了。一提到敏捷，大家就都会想到敏捷宣言，scrum，xp等等。这些价值观和方法论的东西在这里就不重复了。我们手上现在已经有一堆工具和方法了，需求池、测试优先、结对编程、站立会、任务板、燃尽图等等，现在可以写代码了吧？等等，感觉还少了一样东西，架构。

好了，现在设计模式上场了，单例、工厂、观察者、适配器等等。那么什么时候使用这些模式呢？怎样调整这些模式呢？还是要靠个人的经验临场发挥吗？风险由此产生。因此，设计模式其实并没有真正解决架构的问题。在需求和代码实现之间，仍然横亘着一道鸿沟。

考虑一下架构设计存在的意义。架构设计的目的应该是从产品整体的角度出发，规避风险，保证产品的实现。当我们碰到风险的时候，就需要通过一些设计将风险进行隔离。这样，做产品就跟吃苹果一样，可口；风险就跟苹果核一样，被藏了起来。

那怎么样才能作出这样的架构呢？我们可以借助函数式编程里面的思想来理解，架构中的所有元素都是函数，这些元素通过各种组合完成产品的各种功能。有的时候，我们会对这些元素进行分解或者合并。有的时候，某些元素需要特定的领域知识才能完成。基于这种思想设计出来的架构可称之为函数式架构。

参考：[Functional software architecture](https://en.wikipedia.org/wiki/Functional_software_architecture)
